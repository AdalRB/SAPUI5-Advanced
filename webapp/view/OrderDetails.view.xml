<mvc:View xmlns:upload="sap.m.upload" controllerName="alfa01.employeesv2.controller.OrderDetails"
    xmlns:mvc="sap.ui.core.mvc" 
    displayBlock="true"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns:sc="alfa01.employeesv2.control">
    <Page id="page1">
        <customHeader>
            <Bar id="b1">
                <contentLeft>
                    <Button id="btn1" icon="sap-icon://nav-back" press="onBack"></Button>
                </contentLeft>
                <contentMiddle>
                    <Text id="txt1" text="{i18n>orderID} {odataNorthwind>OrderID}"></Text>
                </contentMiddle>
            </Bar>
        </customHeader>
        <content>
            <Panel id="p1" headerText="{i18n>customerID}: {odataNorthwind>CustomerID}">
                <l:Grid id="g1" defaultSpan="L6 M6 S12">
                    <f:Form id="f1" editable="false">
                        <f:layout>
                            <f:ResponsiveGridLayout id="rgl1" labelSpanL="6" labelSpanM="6" labelSpanS="12"/>
                        </f:layout>
                        <f:formContainers>
                            <f:FormContainer id="fc1">
                                <f:formElements>
                                    <f:FormElement id="fe2" label="{i18n>orderDate}">
                                        <f:fields>
                                            <Text id="txt2" text="{path: 'odataNorthwind>OrderDate', type:'sap.ui.model.odata.type.Date'}"></Text>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement id="fe3" label="{i18n>freight}">
                                        <f:fields>
                                            <Text id="txt3" text="{odataNorthwind>Freight}"></Text>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement id="fe4" label="{i18n>shipName}">
                                        <f:fields>
                                            <Text id="txt4" text="{odataNorthwind>ShipName}"></Text>
                                        </f:fields>
                                    </f:FormElement>
                                    <f:FormElement id="fe5" label="{i18n>shipAddress}">
                                        <f:fields>
                                            <Text id="txt5" text="{odataNorthwind>ShipAddress}, {odataNorthwind>ShipCity}, {odataNorthwind>ShipCountry}"></Text>
                                        </f:fields>
                                    </f:FormElement>
                                </f:formElements>
                            </f:FormContainer>
                        </f:formContainers>
                    </f:Form>
                    <FlexBox id="fb1" class="sapUiTinyMarginTop">
                        <sc:Signature id="signature"></sc:Signature>
                        <Button id="btn2" text="{i18n>clear}" press="onClearSignature" class="sapUiTinyMarginBegin"></Button>
                    </FlexBox>
                </l:Grid>
                <!-- <upload:UploadSet id="uploadCollection"
                                    maxFileNameLength="55"
                                    maxFileSize="10"
                                    multiple="true"
                                    sameFilenameAllowed="true"
                                    instantUpload="true"
                                    uploadUrl="/sap/opu/odata/sap/YSAPUI5_SRV_01/FilesSet"
                                    uploadCompleted="onFileUploadComplete"
                                    beforeUploadStarts="onFileBeforeUpload"
                                    afterItemRemoved="onFileDeleted">                
                </upload:UploadSet> -->
            </Panel>
            <Panel id="p2">
                <headerToolbar>
                    <Toolbar id="tb2">
                        <ToolbarSpacer id="tbs2"></ToolbarSpacer>
                        <Button id="btn4" icon="sap-icon://download" press="onDownloadFile"/>
                    </Toolbar>
                </headerToolbar>
                <content>
                    <upload:UploadSet id="uploadCollection"
                                    maxFileNameLength="55"
                                    maxFileSize="10"
                                    multiple="true"
                                    sameFilenameAllowed="true"
                                    instantUpload="true"
                                    uploadUrl="/sap/opu/odata/sap/YSAPUI5_SRV_01/FilesSet"
                                    uploadCompleted="onFileUploadComplete"
                                    beforeUploadStarts="onFileBeforeUpload"
                                    afterItemRemoved="onFileDeleted">                
                    </upload:UploadSet>
                </content>
            </Panel>
            <Panel id="p3" headerText="{i18n>orderProducts}">
                <List id="list1" items="{path: 'odataNorthwind>Order_Details', parameters:{expand : 'Product'}, factory:'.factoryOrderDetails'}"/>
            </Panel>
        </content>
        <footer>
            <Toolbar id="tb1">
                <ToolbarSpacer id="ts1"></ToolbarSpacer>
                <Button id="btn3" text="{i18n>saveSignature}" press="onSaveSignature"></Button>
            </Toolbar>
        </footer>
    </Page>
</mvc:View>